# Common build flags
build --cxxopt -fPIE
build --cxxopt -fPIC
build --cxxopt -fstack-clash-protection
build --cxxopt -fplugin=annobin
build --cxxopt -fstack-protector-all
build --cxxopt -fstack-protector-strong
build --cxxopt -O2
build --cxxopt -fexceptions
build --cxxopt -D_GLIBCXX_ASSERTIONS
build --cxxopt -D_GLIBCXX_USE_CXX11_ABI=1
build --cxxopt -DENVOY_IGNORE_GLIBCXX_USE_CXX11_ABI_ERROR=1
build --cxxopt -D_FORTIFY_SOURCE=2
build --cxxopt -Wno-error=deprecated-declarations
build --cxxopt -Wno-error=unused-variable
build --cxxopt -w
build --cxxopt -ldl
build --host_force_python=PY3
build --force_pic=true
build --sandbox_debug
build --verbose_failures


# Arch-specific build flags, triggered with --config=$ARCH in bazel build command
build:x86_64 --cxxopt -fcf-protection=full
build:s390x --define=DUMMY=dummy
build:ppc --define=DUMMY=dummy

# Import vendor flags
import %workspace%/maistra/bazelrc-vendor
